<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Michael O’key, Michael Chrzan, Laisha Ozuna">
<meta name="dcterms.date" content="2023-12-15">

<title>School Climate and Student Growth</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="423A Group Project Code_files/libs/clipboard/clipboard.min.js"></script>
<script src="423A Group Project Code_files/libs/quarto-html/quarto.js"></script>
<script src="423A Group Project Code_files/libs/quarto-html/popper.min.js"></script>
<script src="423A Group Project Code_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="423A Group Project Code_files/libs/quarto-html/anchor.min.js"></script>
<link href="423A Group Project Code_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="423A Group Project Code_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="423A Group Project Code_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="423A Group Project Code_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="423A Group Project Code_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">School Climate and Student Growth</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Michael O’key, Michael Chrzan, Laisha Ozuna </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 15, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="honor-code-statement" class="level2">
<h2 class="anchored" data-anchor-id="honor-code-statement">Honor Code Statement</h2>
<p>We strongly encourage students to form study groups and students may discuss and work on assignments in groups. We expect that each student understands their own submission. As such, students must write their submissions independently and clearly disclose the names of all other students who were part of their study group. Additionally, lifting code or solutions directly from the internet (e.g., Google, GitHub, Stack Overflow) is a violation of the <a href="https://communitystandards.stanford.edu/policies-and-guidance/honor-code">Stanford Honor Code</a>. We take academic honesty and Honor Code violations extremely seriously and expect the same of students. If you have questions about what may or may not constitute an Honor Code violation, please reach out the teaching team.</p>
<p><strong>Email: michael.okey@stanford.edu, mlchrzan@stanford.edu, lozuna@stanford.edu</strong></p>
<p><strong>SUID: ???, 05745732, ???</strong></p>
<p><strong>Study Group: The authors</strong></p>
<p>I acknowledge and agree to abide by the Honor Code.</p>
<p><strong>Signed: Michael O’key, Michael Leon Chrzan, Laisha Ozuna</strong></p>
</section>
<section id="research-question" class="level1">
<h1>Research Question</h1>
<p>What relationship, if any, exists between gentrification, as operationalized by the Pearman and Greene (2022) model, and educational outcomes in Detroit between 2010 and 2020?</p>
</section>
<section id="import-data" class="level1">
<h1>Import Data</h1>
</section>
<section id="gentrification-data" class="level1">
<h1>Gentrification Data</h1>
<section id="acs-housing-data-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="acs-housing-data-cleaning">ACS Housing Data Cleaning</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List of years</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> <span class="dv">2010</span><span class="sc">:</span><span class="dv">2020</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop over each year</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(year <span class="cf">in</span> years) {</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Construct the tibble name</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  tibble_name <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"det"</span>, year)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Evaluate the tibble name to get the actual tibble</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  tibble <span class="ot">&lt;-</span> <span class="fu">eval</span>(<span class="fu">parse</span>(<span class="at">text =</span> tibble_name))</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Perform the operations</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  tibble <span class="ot">&lt;-</span> tibble <span class="sc">|&gt;</span> </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"units_in_structure"</span>),</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"rooms"</span>),</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"bedrooms"</span>),</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"housing_tenure"</span>),</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"vehicles_available"</span>),</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"house_heating"</span>),</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"selected_characteristics"</span>),</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"occupants_per_room"</span>), </span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"year_householder"</span>),</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"selected_monthly_owner_costs"</span>),</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"mortgage_status"</span>),</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"year_structure_built"</span>),</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="fu">contains</span>(<span class="st">"grapi"</span>),</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span>housing_occupancy, </span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span>value, </span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span>mortgage_status,</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span>selected_monthly_owner_costs_smoc,</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span>gross_rent, </span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span>selected_monthly_owner_costs_as_a_percentage_of_household_income_smocapi, </span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span>selected_monthly_owner_costs_smoc,</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span>gross_rent_as_a_percentage_of_household_income_grapi) <span class="sc">|&gt;</span> </span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">year =</span> year)</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>  tibble <span class="ot">&lt;-</span> tibble <span class="sc">|&gt;</span> </span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">label_grouping =</span> <span class="fu">str_trim</span>(label_grouping)) <span class="sc">|&gt;</span> </span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(label_grouping <span class="sc">==</span> <span class="st">'Estimate'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>label_grouping)</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Assign the modified tibble back to the original tibble</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assign</span>(tibble_name, tibble, <span class="at">envir =</span> .GlobalEnv)</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>det_data <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(det2010, det2011, det2012,det2013, det2014, det2015, det2016, det2017, det2018, det2019, det2020) <span class="sc">|&gt;</span> </span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, <span class="fu">everything</span>())</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>det_data <span class="ot">&lt;-</span> det_data <span class="sc">|&gt;</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">'occupied_housing_units'</span>, <span class="fu">contains</span>(<span class="st">'occupied_housing_units'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">'vacant_housing_units'</span>, <span class="fu">contains</span>(<span class="st">'vacant_housing_units'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">'homeowner_vacancy_rate'</span>, <span class="fu">contains</span>(<span class="st">'homeowner_vacancy_rate'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)  <span class="sc">|&gt;</span> </span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">'rental_vacancy_rate'</span>, <span class="fu">contains</span>(<span class="st">'rental_vacancy_rate'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)  <span class="sc">|&gt;</span> </span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">"value_less_than_50_000"</span>, <span class="fu">contains</span>(<span class="st">"less_than_50_000"</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">"value_50_000_to_99_999"</span>, <span class="fu">contains</span>(<span class="st">"50_000_to_99_999"</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">'value_100_000_to_149_999'</span>, <span class="fu">contains</span>(<span class="st">'100_000_to_149_999'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">'value_150_000_to_199_999'</span>, <span class="fu">contains</span>(<span class="st">'150_000_to_199_999'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">'value_200_000_to_299_999'</span>, <span class="fu">contains</span>(<span class="st">'200_000_to_299_999'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">'value_300_000_to_499_999'</span>, <span class="fu">contains</span>(<span class="st">'300_000_to_499_999'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">'value_500_000_to_999_999'</span>, <span class="fu">contains</span>(<span class="st">'500_000_to_999_999'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">'value_1_000_000_or_more'</span>, <span class="fu">contains</span>(<span class="st">'1_000_000_or_more'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">'value_median_dollars'</span>, value_median_dollars, value_owner_occupied_units_median_dollars, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">'gross_rent_median_dollars'</span>, gross_rent_median_dollars, gross_rent_occupied_units_paying_rent_median_dollars, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">'gross_rent_no_rent_paid'</span>, <span class="fu">contains</span>(<span class="st">'no_rent_paid'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">'gross_rent_1_500_or_more'</span>, gross_rent_1_500_or_more, gross_rent_occupied_units_paying_rent_1_500_or_more, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">"gross_rent_less_than_200"</span>, <span class="fu">contains</span>(<span class="st">'rent_less_than_200'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">"gross_rent_200_to_299"</span>, <span class="fu">contains</span>(<span class="st">'rent_200_to_299'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">"gross_rent_300_to_499"</span>, <span class="fu">contains</span>(<span class="st">'rent_300_to_499'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">"gross_rent_500_to_749"</span>, <span class="fu">contains</span>(<span class="st">'rent_500_to_749'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">"gross_rent_750_to_999"</span>, <span class="fu">contains</span>(<span class="st">'rent_750_to_999'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">"gross_rent_1_000_to_1_499"</span>, <span class="fu">contains</span>(<span class="st">'1_000_to_1_499'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>det_data <span class="ot">&lt;-</span> det_data <span class="sc">|&gt;</span>  </span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.character), <span class="sc">~</span><span class="fu">str_replace_all</span>(., <span class="st">','</span>, <span class="st">''</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(as.numeric) <span class="sc">|&gt;</span> </span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">structures_built =</span> <span class="fu">case_when</span>(</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>    year <span class="sc">==</span> <span class="dv">2014</span> <span class="sc">~</span> <span class="dv">6</span>, </span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>    year <span class="sc">==</span> <span class="dv">2015</span> <span class="sc">~</span> <span class="dv">45</span>, </span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>    year <span class="sc">==</span> <span class="dv">2016</span> <span class="sc">~</span> <span class="dv">173</span>, </span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>    year <span class="sc">==</span> <span class="dv">2017</span> <span class="sc">~</span> <span class="dv">202</span>, </span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>    year <span class="sc">==</span> <span class="dv">2018</span> <span class="sc">~</span> <span class="dv">467</span>, </span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>    year <span class="sc">==</span> <span class="dv">2019</span> <span class="sc">~</span> <span class="dv">1115</span>, </span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>    year <span class="sc">==</span> <span class="dv">2020</span> <span class="sc">~</span> <span class="dv">99</span>))</span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a>det_data <span class="ot">&lt;-</span> det_data <span class="sc">|&gt;</span> </span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gross_rent_less_than_500 =</span> gross_rent_less_than_200<span class="sc">+</span>gross_rent_200_to_299<span class="sc">+</span>gross_rent_300_to_499, </span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a>         <span class="at">gross_rent_500_to_999 =</span> gross_rent_500_to_749 <span class="sc">+</span> gross_rent_750_to_999, </span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a>         <span class="at">gross_rent_1_500_or_more_occupied =</span> gross_rent_occupied_units_paying_rent_1_500_to_1_999<span class="sc">+</span>gross_rent_occupied_units_paying_rent_2_000_to_2_499<span class="sc">+</span>gross_rent_occupied_units_paying_rent_2_500_to_2_999<span class="sc">+</span>gross_rent_occupied_units_paying_rent_3_000_or_more, </span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a>         <span class="at">.keep =</span> <span class="st">"unused"</span>)</span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a>det_data <span class="ot">&lt;-</span> det_data <span class="sc">|&gt;</span> </span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">"gross_rent_less_than_500"</span>, <span class="fu">contains</span>(<span class="st">'rent_less_than_500'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">"gross_rent_500_to_999"</span>, <span class="fu">contains</span>(<span class="st">'rent_500_to_999'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">"gross_rent_1_500_or_more"</span>, <span class="fu">contains</span>(<span class="st">'1_500_or_more'</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>) </span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a>det_data <span class="ot">&lt;-</span> det_data <span class="sc">|&gt;</span> </span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, structures_built, <span class="fu">contains</span>(<span class="st">'median'</span>), <span class="fu">starts_with</span>(<span class="st">'value'</span>), gross_rent_less_than_500, gross_rent_500_to_999, gross_rent_1_000_to_1_499, gross_rent_1_500_or_more, <span class="fu">starts_with</span>(<span class="st">'gross'</span>), <span class="fu">everything</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), as.numeric))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="acs-education-data-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="acs-education-data-cleaning">ACS Education Data Cleaning</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(acs_detroit_2010) <span class="ot">&lt;-</span> acs_detroit_2010[<span class="dv">1</span>, ]</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>acs_detroit_2010 <span class="ot">&lt;-</span> acs_detroit_2010[<span class="sc">-</span><span class="dv">1</span>, ]</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(acs_detroit_2011) <span class="ot">&lt;-</span> acs_detroit_2011[<span class="dv">1</span>, ]</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>acs_detroit_2011 <span class="ot">&lt;-</span> acs_detroit_2011[<span class="sc">-</span><span class="dv">1</span>, ]</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(acs_detroit_2012) <span class="ot">&lt;-</span> acs_detroit_2012[<span class="dv">1</span>, ]</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>acs_detroit_2012 <span class="ot">&lt;-</span> acs_detroit_2012[<span class="sc">-</span><span class="dv">1</span>, ]</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(acs_detroit_2013) <span class="ot">&lt;-</span> acs_detroit_2013[<span class="dv">1</span>, ]</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>acs_detroit_2013 <span class="ot">&lt;-</span> acs_detroit_2013[<span class="sc">-</span><span class="dv">1</span>, ]</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(acs_detroit_2014) <span class="ot">&lt;-</span> acs_detroit_2014[<span class="dv">1</span>, ]</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>acs_detroit_2014 <span class="ot">&lt;-</span> acs_detroit_2014[<span class="sc">-</span><span class="dv">1</span>, ]</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(acs_detroit_2015) <span class="ot">&lt;-</span> acs_detroit_2015[<span class="dv">1</span>, ]</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>acs_detroit_2015 <span class="ot">&lt;-</span> acs_detroit_2015[<span class="sc">-</span><span class="dv">1</span>, ]</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(acs_detroit_2016) <span class="ot">&lt;-</span> acs_detroit_2016[<span class="dv">1</span>, ]</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>acs_detroit_2016 <span class="ot">&lt;-</span> acs_detroit_2016[<span class="sc">-</span><span class="dv">1</span>, ]</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(acs_detroit_2017) <span class="ot">&lt;-</span> acs_detroit_2017[<span class="dv">1</span>, ]</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>acs_detroit_2017 <span class="ot">&lt;-</span> acs_detroit_2017[<span class="sc">-</span><span class="dv">1</span>, ]</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(acs_detroit_2018) <span class="ot">&lt;-</span> acs_detroit_2018[<span class="dv">1</span>, ]</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>acs_detroit_2018 <span class="ot">&lt;-</span> acs_detroit_2018[<span class="sc">-</span><span class="dv">1</span>, ]</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(acs_detroit_2019) <span class="ot">&lt;-</span> acs_detroit_2019[<span class="dv">1</span>, ]</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>acs_detroit_2019 <span class="ot">&lt;-</span> acs_detroit_2019[<span class="sc">-</span><span class="dv">1</span>, ]</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(acs_detroit_2020) <span class="ot">&lt;-</span> acs_detroit_2020[<span class="dv">1</span>, ]</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>acs_detroit_2020 <span class="ot">&lt;-</span> acs_detroit_2020[<span class="sc">-</span><span class="dv">1</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#parse for educational attainment data</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>educ_detroit_2010 <span class="ot">&lt;-</span> acs_detroit_2010 <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">starts_with</span>(<span class="st">"Estimate!!EDUCATIONAL ATTAINMENT!!"</span>), </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"Percent!!EDUCATIONAL ATTAINMENT!!"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>()</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>educ_detroit_2011 <span class="ot">&lt;-</span> acs_detroit_2011 <span class="sc">|&gt;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">starts_with</span>(<span class="st">"Estimate!!EDUCATIONAL ATTAINMENT!!"</span>), </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"Percent!!EDUCATIONAL ATTAINMENT!!"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>()</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>educ_detroit_2012 <span class="ot">&lt;-</span> acs_detroit_2012 <span class="sc">|&gt;</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">starts_with</span>(<span class="st">"Estimate!!EDUCATIONAL ATTAINMENT!!"</span>), </span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"Percent!!EDUCATIONAL ATTAINMENT!!"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>()</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>educ_detroit_2013 <span class="ot">&lt;-</span> acs_detroit_2013 <span class="sc">|&gt;</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">starts_with</span>(<span class="st">"Estimate!!EDUCATIONAL ATTAINMENT!!"</span>), </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"Percent!!EDUCATIONAL ATTAINMENT!!"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>()</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>educ_detroit_2014 <span class="ot">&lt;-</span> acs_detroit_2014 <span class="sc">|&gt;</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">starts_with</span>(<span class="st">"Estimate!!EDUCATIONAL ATTAINMENT!!"</span>), </span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"Percent!!EDUCATIONAL ATTAINMENT!!"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>   <span class="fu">clean_names</span>()</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>educ_detroit_2015 <span class="ot">&lt;-</span> acs_detroit_2015 <span class="sc">|&gt;</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">starts_with</span>(<span class="st">"Estimate!!EDUCATIONAL ATTAINMENT!!"</span>), </span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"Percent!!EDUCATIONAL ATTAINMENT!!"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>   <span class="fu">clean_names</span>()</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>educ_detroit_2016 <span class="ot">&lt;-</span> acs_detroit_2016 <span class="sc">|&gt;</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">starts_with</span>(<span class="st">"Estimate!!EDUCATIONAL ATTAINMENT!!"</span>), </span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"Percent!!EDUCATIONAL ATTAINMENT!!"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>   <span class="fu">clean_names</span>()</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>educ_detroit_2017 <span class="ot">&lt;-</span> acs_detroit_2017 <span class="sc">|&gt;</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">starts_with</span>(<span class="st">"Estimate!!EDUCATIONAL ATTAINMENT!!"</span>), </span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"Percent!!EDUCATIONAL ATTAINMENT!!"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>   <span class="fu">clean_names</span>()</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>educ_detroit_2018 <span class="ot">&lt;-</span> acs_detroit_2018 <span class="sc">|&gt;</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">starts_with</span>(<span class="st">"Estimate!!EDUCATIONAL ATTAINMENT!!"</span>), </span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"Percent!!EDUCATIONAL ATTAINMENT!!"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>()</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>educ_detroit_2019 <span class="ot">&lt;-</span> acs_detroit_2019 <span class="sc">|&gt;</span></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">starts_with</span>(<span class="st">"Estimate!!EDUCATIONAL ATTAINMENT!!"</span>), </span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"Percent!!EDUCATIONAL ATTAINMENT!!"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>   <span class="fu">clean_names</span>()</span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>educ_detroit_2020 <span class="ot">&lt;-</span> acs_detroit_2020 <span class="sc">|&gt;</span></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">starts_with</span>(<span class="st">"Estimate!!EDUCATIONAL ATTAINMENT!!"</span>), </span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"Percent!!EDUCATIONAL ATTAINMENT!!"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>   <span class="fu">clean_names</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>convert_to_dbl <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ifelse</span>(<span class="fu">str_detect</span>(x, <span class="st">"^</span><span class="sc">\\</span><span class="st">d+</span><span class="sc">\\</span><span class="st">.?</span><span class="sc">\\</span><span class="st">d*$"</span>), <span class="fu">as.numeric</span>(x), x)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># apply &lt;dbl&gt; to select columns and add year</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>educ_detroit_2010 <span class="ot">&lt;-</span> educ_detroit_2010 <span class="sc">|&gt;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(convert_to_dbl) <span class="sc">|&gt;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2010</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>estimate_educational_attainment_percent_high_school_graduate_or_higher, <span class="sc">-</span>estimate_educational_attainment_percent_bachelors_degree_or_higher)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>educ_detroit_2011 <span class="ot">&lt;-</span> educ_detroit_2011 <span class="sc">|&gt;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(convert_to_dbl) <span class="sc">|&gt;</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2011</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>estimate_educational_attainment_percent_high_school_graduate_or_higher, <span class="sc">-</span>estimate_educational_attainment_percent_bachelors_degree_or_higher)</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>educ_detroit_2012 <span class="ot">&lt;-</span> educ_detroit_2012 <span class="sc">|&gt;</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(convert_to_dbl) <span class="sc">|&gt;</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2012</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>estimate_educational_attainment_percent_high_school_graduate_or_higher, <span class="sc">-</span>estimate_educational_attainment_percent_bachelors_degree_or_higher)</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>educ_detroit_2013 <span class="ot">&lt;-</span> educ_detroit_2013 <span class="sc">|&gt;</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(convert_to_dbl) <span class="sc">|&gt;</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2013</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">estimate_educational_attainment_less_than_9th_grade =</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>           <span class="st">"estimate_educational_attainment_population_25_years_and_over_less_than_9th_grade"</span>,</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_9th_to_12th_grade_no_diploma =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_9th_to_12th_grade_no_diploma"</span>,</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_high_school_graduate_includes_equivalency =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_high_school_graduate_includes_equivalency"</span>,</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_some_college_no_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_some_college_no_degree"</span>,</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_associates_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_associates_degree"</span>,</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_bachelors_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_bachelors_degree"</span>,</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_graduate_or_professional_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_graduate_or_professional_degree"</span>,</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_less_than_9th_grade =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_less_than_9th_grade"</span>,</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_9th_to_12th_grade_no_diploma =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_9th_to_12th_grade_no_diploma"</span>,</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_high_school_graduate_includes_equivalency =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_high_school_graduate_includes_equivalency"</span>,</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_some_college_no_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_some_college_no_degree"</span>,</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_associates_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_associates_degree"</span>,</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_bachelors_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_bachelors_degree"</span>,</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_graduate_or_professional_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_graduate_or_professional_degree"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>estimate_educational_attainment_percent_high_school_graduate_or_higher, <span class="sc">-</span>estimate_educational_attainment_percent_bachelors_degree_or_higher)</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>educ_detroit_2014 <span class="ot">&lt;-</span> educ_detroit_2014 <span class="sc">|&gt;</span></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(convert_to_dbl) <span class="sc">|&gt;</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2014</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">estimate_educational_attainment_less_than_9th_grade =</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>           <span class="st">"estimate_educational_attainment_population_25_years_and_over_less_than_9th_grade"</span>,</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_9th_to_12th_grade_no_diploma =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_9th_to_12th_grade_no_diploma"</span>,</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_high_school_graduate_includes_equivalency =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_high_school_graduate_includes_equivalency"</span>,</span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_some_college_no_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_some_college_no_degree"</span>,</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_associates_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_associates_degree"</span>,</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_bachelors_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_bachelors_degree"</span>,</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_graduate_or_professional_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_graduate_or_professional_degree"</span>,</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_less_than_9th_grade =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_less_than_9th_grade"</span>,</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_9th_to_12th_grade_no_diploma =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_9th_to_12th_grade_no_diploma"</span>,</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_high_school_graduate_includes_equivalency =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_high_school_graduate_includes_equivalency"</span>,</span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_some_college_no_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_some_college_no_degree"</span>,</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_associates_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_associates_degree"</span>,</span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_bachelors_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_bachelors_degree"</span>,</span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_graduate_or_professional_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_graduate_or_professional_degree"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>estimate_educational_attainment_percent_high_school_graduate_or_higher, <span class="sc">-</span>estimate_educational_attainment_percent_bachelors_degree_or_higher)</span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>educ_detroit_2015 <span class="ot">&lt;-</span> educ_detroit_2015 <span class="sc">|&gt;</span></span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(convert_to_dbl) <span class="sc">|&gt;</span></span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2015</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">estimate_educational_attainment_less_than_9th_grade =</span></span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>           <span class="st">"estimate_educational_attainment_population_25_years_and_over_less_than_9th_grade"</span>,</span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_9th_to_12th_grade_no_diploma =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_9th_to_12th_grade_no_diploma"</span>,</span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_high_school_graduate_includes_equivalency =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_high_school_graduate_includes_equivalency"</span>,</span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_some_college_no_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_some_college_no_degree"</span>,</span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_associates_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_associates_degree"</span>,</span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_bachelors_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_bachelors_degree"</span>,</span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_graduate_or_professional_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_graduate_or_professional_degree"</span>,</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_less_than_9th_grade =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_less_than_9th_grade"</span>,</span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_9th_to_12th_grade_no_diploma =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_9th_to_12th_grade_no_diploma"</span>,</span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_high_school_graduate_includes_equivalency =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_high_school_graduate_includes_equivalency"</span>,</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_some_college_no_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_some_college_no_degree"</span>,</span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_associates_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_associates_degree"</span>,</span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_bachelors_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_bachelors_degree"</span>,</span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_graduate_or_professional_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_graduate_or_professional_degree"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>estimate_educational_attainment_percent_high_school_graduate_or_higher, <span class="sc">-</span>estimate_educational_attainment_percent_bachelors_degree_or_higher)</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a>educ_detroit_2016 <span class="ot">&lt;-</span> educ_detroit_2016 <span class="sc">|&gt;</span></span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(convert_to_dbl) <span class="sc">|&gt;</span></span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2016</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">estimate_educational_attainment_less_than_9th_grade =</span></span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a>           <span class="st">"estimate_educational_attainment_population_25_years_and_over_less_than_9th_grade"</span>,</span>
<span id="cb4-86"><a href="#cb4-86" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_9th_to_12th_grade_no_diploma =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_9th_to_12th_grade_no_diploma"</span>,</span>
<span id="cb4-87"><a href="#cb4-87" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_high_school_graduate_includes_equivalency =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_high_school_graduate_includes_equivalency"</span>,</span>
<span id="cb4-88"><a href="#cb4-88" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_some_college_no_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_some_college_no_degree"</span>,</span>
<span id="cb4-89"><a href="#cb4-89" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_associates_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_associates_degree"</span>,</span>
<span id="cb4-90"><a href="#cb4-90" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_bachelors_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_bachelors_degree"</span>,</span>
<span id="cb4-91"><a href="#cb4-91" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_graduate_or_professional_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_graduate_or_professional_degree"</span>,</span>
<span id="cb4-92"><a href="#cb4-92" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_less_than_9th_grade =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_less_than_9th_grade"</span>,</span>
<span id="cb4-93"><a href="#cb4-93" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_9th_to_12th_grade_no_diploma =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_9th_to_12th_grade_no_diploma"</span>,</span>
<span id="cb4-94"><a href="#cb4-94" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_high_school_graduate_includes_equivalency =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_high_school_graduate_includes_equivalency"</span>,</span>
<span id="cb4-95"><a href="#cb4-95" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_some_college_no_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_some_college_no_degree"</span>,</span>
<span id="cb4-96"><a href="#cb4-96" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_associates_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_associates_degree"</span>,</span>
<span id="cb4-97"><a href="#cb4-97" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_bachelors_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_bachelors_degree"</span>,</span>
<span id="cb4-98"><a href="#cb4-98" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_graduate_or_professional_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_graduate_or_professional_degree"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-99"><a href="#cb4-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>estimate_educational_attainment_percent_high_school_graduate_or_higher, <span class="sc">-</span>estimate_educational_attainment_percent_bachelors_degree_or_higher)</span>
<span id="cb4-100"><a href="#cb4-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-101"><a href="#cb4-101" aria-hidden="true" tabindex="-1"></a><span class="co">#Converstion Continued (blocks combined into one)</span></span>
<span id="cb4-102"><a href="#cb4-102" aria-hidden="true" tabindex="-1"></a>educ_detroit_2017 <span class="ot">&lt;-</span> educ_detroit_2017 <span class="sc">|&gt;</span></span>
<span id="cb4-103"><a href="#cb4-103" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(convert_to_dbl) <span class="sc">|&gt;</span></span>
<span id="cb4-104"><a href="#cb4-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2017</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-105"><a href="#cb4-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">estimate_educational_attainment_less_than_9th_grade =</span></span>
<span id="cb4-106"><a href="#cb4-106" aria-hidden="true" tabindex="-1"></a>           <span class="st">"estimate_educational_attainment_population_25_years_and_over_less_than_9th_grade"</span>,</span>
<span id="cb4-107"><a href="#cb4-107" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_9th_to_12th_grade_no_diploma =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_9th_to_12th_grade_no_diploma"</span>,</span>
<span id="cb4-108"><a href="#cb4-108" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_high_school_graduate_includes_equivalency =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_high_school_graduate_includes_equivalency"</span>,</span>
<span id="cb4-109"><a href="#cb4-109" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_some_college_no_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_some_college_no_degree"</span>,</span>
<span id="cb4-110"><a href="#cb4-110" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_associates_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_associates_degree"</span>,</span>
<span id="cb4-111"><a href="#cb4-111" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_bachelors_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_bachelors_degree"</span>,</span>
<span id="cb4-112"><a href="#cb4-112" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_graduate_or_professional_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_graduate_or_professional_degree"</span>,</span>
<span id="cb4-113"><a href="#cb4-113" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_less_than_9th_grade =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_less_than_9th_grade"</span>,</span>
<span id="cb4-114"><a href="#cb4-114" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_9th_to_12th_grade_no_diploma =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_9th_to_12th_grade_no_diploma"</span>,</span>
<span id="cb4-115"><a href="#cb4-115" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_high_school_graduate_includes_equivalency =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_high_school_graduate_includes_equivalency"</span>,</span>
<span id="cb4-116"><a href="#cb4-116" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_some_college_no_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_some_college_no_degree"</span>,</span>
<span id="cb4-117"><a href="#cb4-117" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_associates_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_associates_degree"</span>,</span>
<span id="cb4-118"><a href="#cb4-118" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_bachelors_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_bachelors_degree"</span>,</span>
<span id="cb4-119"><a href="#cb4-119" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_graduate_or_professional_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_graduate_or_professional_degree"</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-120"><a href="#cb4-120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>estimate_educational_attainment_percent_high_school_graduate_or_higher, <span class="sc">-</span>estimate_educational_attainment_percent_bachelors_degree_or_higher)</span>
<span id="cb4-121"><a href="#cb4-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-122"><a href="#cb4-122" aria-hidden="true" tabindex="-1"></a>educ_detroit_2018 <span class="ot">&lt;-</span> educ_detroit_2018 <span class="sc">|&gt;</span></span>
<span id="cb4-123"><a href="#cb4-123" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(convert_to_dbl) <span class="sc">|&gt;</span></span>
<span id="cb4-124"><a href="#cb4-124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2018</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-125"><a href="#cb4-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">estimate_educational_attainment_less_than_9th_grade =</span></span>
<span id="cb4-126"><a href="#cb4-126" aria-hidden="true" tabindex="-1"></a>           <span class="st">"estimate_educational_attainment_population_25_years_and_over_less_than_9th_grade"</span>,</span>
<span id="cb4-127"><a href="#cb4-127" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_9th_to_12th_grade_no_diploma =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_9th_to_12th_grade_no_diploma"</span>,</span>
<span id="cb4-128"><a href="#cb4-128" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_high_school_graduate_includes_equivalency =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_high_school_graduate_includes_equivalency"</span>,</span>
<span id="cb4-129"><a href="#cb4-129" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_some_college_no_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_some_college_no_degree"</span>,</span>
<span id="cb4-130"><a href="#cb4-130" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_associates_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_associates_degree"</span>,</span>
<span id="cb4-131"><a href="#cb4-131" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_bachelors_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_bachelors_degree"</span>,</span>
<span id="cb4-132"><a href="#cb4-132" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_graduate_or_professional_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_graduate_or_professional_degree"</span>) <span class="sc">|&gt;</span>                            <span class="co">#add percentages</span></span>
<span id="cb4-133"><a href="#cb4-133" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percent_educational_attainment_population_25_years_and_over =</span> estimate_educational_attainment_population_25_years_and_over,</span>
<span id="cb4-134"><a href="#cb4-134" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_less_than_9th_grade =</span> <span class="fu">round</span>((estimate_educational_attainment_less_than_9th_grade <span class="sc">/</span> estimate_educational_attainment_population_25_years_and_over) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb4-135"><a href="#cb4-135" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_9th_to_12th_grade_no_diploma =</span> <span class="fu">round</span>((estimate_educational_attainment_9th_to_12th_grade_no_diploma <span class="sc">/</span> estimate_educational_attainment_population_25_years_and_over) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb4-136"><a href="#cb4-136" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_high_school_graduate_includes_equivalency =</span> <span class="fu">round</span>((estimate_educational_attainment_high_school_graduate_includes_equivalency <span class="sc">/</span> estimate_educational_attainment_population_25_years_and_over) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb4-137"><a href="#cb4-137" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_some_college_no_degree =</span> <span class="fu">round</span>((estimate_educational_attainment_some_college_no_degree <span class="sc">/</span> estimate_educational_attainment_population_25_years_and_over) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb4-138"><a href="#cb4-138" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_associates_degree =</span> <span class="fu">round</span>((estimate_educational_attainment_associates_degree <span class="sc">/</span> estimate_educational_attainment_population_25_years_and_over) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb4-139"><a href="#cb4-139" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_bachelors_degree =</span> <span class="fu">round</span>((estimate_educational_attainment_bachelors_degree <span class="sc">/</span> estimate_educational_attainment_population_25_years_and_over) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb4-140"><a href="#cb4-140" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_graduate_or_professional_degree =</span> <span class="fu">round</span>((estimate_educational_attainment_graduate_or_professional_degree <span class="sc">/</span> estimate_educational_attainment_population_25_years_and_over) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb4-141"><a href="#cb4-141" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_percent_high_school_graduate_or_higher =</span> <span class="fu">round</span>((estimate_educational_attainment_population_25_years_and_over_high_school_graduate_or_higher <span class="sc">/</span> estimate_educational_attainment_population_25_years_and_over) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb4-142"><a href="#cb4-142" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_percent_bachelors_degree_or_higher =</span> <span class="fu">round</span>((estimate_educational_attainment_population_25_years_and_over_bachelors_degree_or_higher <span class="sc">/</span> estimate_educational_attainment_population_25_years_and_over) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb4-143"><a href="#cb4-143" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>estimate_educational_attainment_population_25_years_and_over_high_school_graduate_or_higher, <span class="sc">-</span>estimate_educational_attainment_population_25_years_and_over_bachelors_degree_or_higher)</span>
<span id="cb4-144"><a href="#cb4-144" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-145"><a href="#cb4-145" aria-hidden="true" tabindex="-1"></a>educ_detroit_2019 <span class="ot">&lt;-</span> educ_detroit_2019 <span class="sc">|&gt;</span></span>
<span id="cb4-146"><a href="#cb4-146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(convert_to_dbl) <span class="sc">|&gt;</span></span>
<span id="cb4-147"><a href="#cb4-147" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2019</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-148"><a href="#cb4-148" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">estimate_educational_attainment_less_than_9th_grade =</span></span>
<span id="cb4-149"><a href="#cb4-149" aria-hidden="true" tabindex="-1"></a>           <span class="st">"estimate_educational_attainment_population_25_years_and_over_less_than_9th_grade"</span>,</span>
<span id="cb4-150"><a href="#cb4-150" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_9th_to_12th_grade_no_diploma =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_9th_to_12th_grade_no_diploma"</span>,</span>
<span id="cb4-151"><a href="#cb4-151" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_high_school_graduate_includes_equivalency =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_high_school_graduate_includes_equivalency"</span>,</span>
<span id="cb4-152"><a href="#cb4-152" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_some_college_no_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_some_college_no_degree"</span>,</span>
<span id="cb4-153"><a href="#cb4-153" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_associates_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_associates_degree"</span>,</span>
<span id="cb4-154"><a href="#cb4-154" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_bachelors_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_bachelors_degree"</span>,</span>
<span id="cb4-155"><a href="#cb4-155" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_graduate_or_professional_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_graduate_or_professional_degree"</span>,</span>
<span id="cb4-156"><a href="#cb4-156" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_less_than_9th_grade =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_less_than_9th_grade"</span>,</span>
<span id="cb4-157"><a href="#cb4-157" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_9th_to_12th_grade_no_diploma =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_9th_to_12th_grade_no_diploma"</span>,</span>
<span id="cb4-158"><a href="#cb4-158" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_high_school_graduate_includes_equivalency =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_high_school_graduate_includes_equivalency"</span>,</span>
<span id="cb4-159"><a href="#cb4-159" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_some_college_no_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_some_college_no_degree"</span>,</span>
<span id="cb4-160"><a href="#cb4-160" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_associates_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_associates_degree"</span>,</span>
<span id="cb4-161"><a href="#cb4-161" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_bachelors_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_bachelors_degree"</span>,</span>
<span id="cb4-162"><a href="#cb4-162" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_graduate_or_professional_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_graduate_or_professional_degree"</span>,</span>
<span id="cb4-163"><a href="#cb4-163" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_percent_high_school_graduate_or_higher =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_high_school_graduate_or_higher"</span>,</span>
<span id="cb4-164"><a href="#cb4-164" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_percent_bachelors_degree_or_higher =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_bachelors_degree_or_higher"</span>  </span>
<span id="cb4-165"><a href="#cb4-165" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">|&gt;</span></span>
<span id="cb4-166"><a href="#cb4-166" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>estimate_educational_attainment_population_25_years_and_over_high_school_graduate_or_higher, <span class="sc">-</span>estimate_educational_attainment_population_25_years_and_over_bachelors_degree_or_higher)</span>
<span id="cb4-167"><a href="#cb4-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-168"><a href="#cb4-168" aria-hidden="true" tabindex="-1"></a>educ_detroit_2020 <span class="ot">&lt;-</span> educ_detroit_2020 <span class="sc">|&gt;</span></span>
<span id="cb4-169"><a href="#cb4-169" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(convert_to_dbl) <span class="sc">|&gt;</span></span>
<span id="cb4-170"><a href="#cb4-170" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="dv">2020</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-171"><a href="#cb4-171" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">estimate_educational_attainment_less_than_9th_grade =</span></span>
<span id="cb4-172"><a href="#cb4-172" aria-hidden="true" tabindex="-1"></a>           <span class="st">"estimate_educational_attainment_population_25_years_and_over_less_than_9th_grade"</span>,</span>
<span id="cb4-173"><a href="#cb4-173" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_9th_to_12th_grade_no_diploma =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_9th_to_12th_grade_no_diploma"</span>,</span>
<span id="cb4-174"><a href="#cb4-174" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_high_school_graduate_includes_equivalency =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_high_school_graduate_includes_equivalency"</span>,</span>
<span id="cb4-175"><a href="#cb4-175" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_some_college_no_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_some_college_no_degree"</span>,</span>
<span id="cb4-176"><a href="#cb4-176" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_associates_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_associates_degree"</span>,</span>
<span id="cb4-177"><a href="#cb4-177" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_bachelors_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_bachelors_degree"</span>,</span>
<span id="cb4-178"><a href="#cb4-178" aria-hidden="true" tabindex="-1"></a>         <span class="at">estimate_educational_attainment_graduate_or_professional_degree =</span> <span class="st">"estimate_educational_attainment_population_25_years_and_over_graduate_or_professional_degree"</span>,</span>
<span id="cb4-179"><a href="#cb4-179" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_less_than_9th_grade =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_less_than_9th_grade"</span>,</span>
<span id="cb4-180"><a href="#cb4-180" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_9th_to_12th_grade_no_diploma =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_9th_to_12th_grade_no_diploma"</span>,</span>
<span id="cb4-181"><a href="#cb4-181" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_high_school_graduate_includes_equivalency =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_high_school_graduate_includes_equivalency"</span>,</span>
<span id="cb4-182"><a href="#cb4-182" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_some_college_no_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_some_college_no_degree"</span>,</span>
<span id="cb4-183"><a href="#cb4-183" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_associates_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_associates_degree"</span>,</span>
<span id="cb4-184"><a href="#cb4-184" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_bachelors_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_bachelors_degree"</span>,</span>
<span id="cb4-185"><a href="#cb4-185" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_graduate_or_professional_degree =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_graduate_or_professional_degree"</span>,</span>
<span id="cb4-186"><a href="#cb4-186" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_percent_high_school_graduate_or_higher =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_high_school_graduate_or_higher"</span>,</span>
<span id="cb4-187"><a href="#cb4-187" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_educational_attainment_percent_bachelors_degree_or_higher =</span> <span class="st">"percent_educational_attainment_population_25_years_and_over_bachelors_degree_or_higher"</span>  </span>
<span id="cb4-188"><a href="#cb4-188" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">|&gt;</span></span>
<span id="cb4-189"><a href="#cb4-189" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>estimate_educational_attainment_population_25_years_and_over_high_school_graduate_or_higher, <span class="sc">-</span>estimate_educational_attainment_population_25_years_and_over_bachelors_degree_or_higher)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>educ_detroit <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(educ_detroit_2010,</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>                          educ_detroit_2011,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>                          educ_detroit_2012,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>                          educ_detroit_2013,</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>                          educ_detroit_2014,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>                          educ_detroit_2015,</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>                          educ_detroit_2016,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>                          educ_detroit_2017,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>                          educ_detroit_2018,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>                          educ_detroit_2019,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                          educ_detroit_2020)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="combining-all-acs-data" class="level2">
<h2 class="anchored" data-anchor-id="combining-all-acs-data">Combining All ACS Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>acs_all_data <span class="ot">&lt;-</span> <span class="fu">full_join</span>(educ_detroit, det_data, </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">by =</span> <span class="st">'year'</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>acs_all_data <span class="ot">&lt;-</span> acs_all_data <span class="sc">|&gt;</span> </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="education-outcomes-data" class="level1">
<h1>Education Outcomes Data</h1>
<section id="nces-data-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="nces-data-cleaning">NCES Data Cleaning</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Converstion of all variables to a character value for joining</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>all_objects <span class="ot">&lt;-</span> <span class="fu">ls</span>()</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Filter the list of objects based on the naming convention "ncesYYYY"</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>nces_objects <span class="ot">&lt;-</span> all_objects[<span class="fu">str_detect</span>(all_objects, <span class="st">"^nces</span><span class="sc">\\</span><span class="st">d{4}$"</span>)]</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Loop over the filtered list of objects</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (obj_name <span class="cf">in</span> nces_objects) {</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Get the actual object from its name</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  obj <span class="ot">&lt;-</span> <span class="fu">get</span>(obj_name)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Check if the object is a tibble</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is_tibble</span>(obj)) {</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Convert all variables to character</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    obj <span class="ot">&lt;-</span> obj <span class="sc">|&gt;</span> </span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), as.character))</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Filtering for DPSCD District Level Data </span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    obj <span class="ot">&lt;-</span> obj <span class="sc">|&gt;</span>  </span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(district_code <span class="sc">==</span> <span class="dv">82015</span> <span class="sc">&amp;</span> entity_type <span class="sc">==</span> <span class="st">"LEA District"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">substr</span>(obj_name, <span class="dv">5</span>, <span class="dv">8</span>))</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Assign the modified object back to its original name in the global environment</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assign</span>(obj_name, obj, <span class="at">envir =</span> .GlobalEnv)</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>nces_all_combined <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(nces2010,</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>                               nces2011, </span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>                               nces2012, </span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>                               nces2013, </span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>                               nces2014, </span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>                               nces2015, </span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>                               nces2016, </span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>                               nces2017, </span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>                               nces2018) </span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>nces_all_combined <span class="ot">&lt;-</span> nces_all_combined <span class="sc">|&gt;</span> </span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, </span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>         <span class="fu">contains</span>(<span class="st">'enrollment'</span>), </span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>         <span class="fu">contains</span>(<span class="st">'percent'</span>), </span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>         <span class="fu">contains</span>(<span class="st">'rate'</span>), </span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span>grade_11_reading_percent_ready, </span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span>grade_11_science_percent_ready)</span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>nces_all_combined</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 38
  year  total_enrollment male_enrollment female_enrollment
  &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt;           &lt;chr&gt;            
1 2010  88218            44721           43497            
2 2011  77594            39300           38294            
3 2012  70326            35686           34640            
4 2013  50172            25235           24937            
5 2014  49870            25167           24703            
6 2015  47959            24110           23849            
7 2016  46912            23701           23211            
8 2017  45720            23191           22529            
9 2018  50875            25937           24938            
# ℹ 34 more variables: american_indian_enrollment &lt;chr&gt;,
#   asian_enrollment &lt;chr&gt;, african_american_enrollment &lt;chr&gt;,
#   hispanic_enrollment &lt;chr&gt;, hawaiian_enrollment &lt;chr&gt;,
#   white_enrollment &lt;chr&gt;, two_or_more_races_enrollment &lt;chr&gt;,
#   kindergarten_enrollment &lt;chr&gt;, grade_1_enrollment &lt;chr&gt;,
#   grade_2_enrollment &lt;chr&gt;, grade_3_enrollment &lt;chr&gt;,
#   grade_4_enrollment &lt;chr&gt;, grade_5_enrollment &lt;chr&gt;, …</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Define the list of dataframes and years</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>nces_ready_dfs <span class="ot">&lt;-</span> <span class="fu">list</span>(nces2016_readiness, nces2017_readiness, nces2018_readiness)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2016</span>, <span class="dv">2017</span>, <span class="dv">2018</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Initialize an empty list to store the results</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Loop over each dataframe</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(nces_ready_dfs)) {</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Perform the operations</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  results[[i]] <span class="ot">&lt;-</span> nces_ready_dfs[[i]] <span class="sc">|&gt;</span> </span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(district_code <span class="sc">==</span> <span class="st">'82015'</span> <span class="sc">&amp;</span> building_name <span class="sc">==</span> <span class="st">'All Buildings'</span> <span class="sc">&amp;</span> subgroup <span class="sc">==</span> <span class="st">'All Students'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">year =</span> years[i]) <span class="sc">|&gt;</span> </span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(year, </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>           math_percent_ready, </span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>           ebrw_percent_ready, </span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>           all_subject_percent_ready)</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="co">#Assign the results back to the original variables</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>nces2016_readiness <span class="ot">&lt;-</span> results[[<span class="dv">1</span>]]</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>nces2017_readiness <span class="ot">&lt;-</span> results[[<span class="dv">2</span>]]</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>nces2018_readiness <span class="ot">&lt;-</span> results[[<span class="dv">3</span>]]</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a><span class="co">#Bind Years into One Tibble</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>nces_16_18_readiness <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(nces2016_readiness, </span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>                                  nces2017_readiness, </span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>                                  nces2018_readiness)</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>nces_16_18_readiness</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
   year math_percent_ready ebrw_percent_ready all_subject_percent_ready
  &lt;dbl&gt; &lt;chr&gt;              &lt;chr&gt;              &lt;chr&gt;                    
1  2016 14.6000            34.2000            13.2000                  
2  2017 13.2000            37.0000            12.3000                  
3  2018 11.6000            30.9000            10.6000                  </code></pre>
</div>
</div>
</section>
</section>
<section id="combining-all-nces-data" class="level1">
<h1>Combining all NCES Data</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>nces_16_18_readiness <span class="ot">&lt;-</span> nces_16_18_readiness <span class="sc">|&gt;</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.character</span>(year))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>nces_all_data <span class="ot">&lt;-</span> <span class="fu">full_join</span>(nces_all_combined, nces_16_18_readiness, </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">by =</span> <span class="st">'year'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">"grade_11_math_percent_ready"</span>, </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">contains</span>(<span class="st">'math_percent_ready'</span>), </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">"grade_11_english_percent_ready"</span>, </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>        grade_11_english_percent_ready, ebrw_percent_ready,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">"grade_11_all_subject_percent_ready"</span>, </span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">contains</span>(<span class="st">'all_subject_percent_ready'</span>), </span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grade_11_math_percent_ready =</span> <span class="fu">str_replace_all</span>(grade_11_math_percent_ready, <span class="st">"0_"</span>, <span class="st">""</span>), </span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">grade_11_english_percent_ready =</span> <span class="fu">str_replace_all</span>(grade_11_english_percent_ready, <span class="st">"0_"</span>, <span class="st">""</span>), </span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">grade_11_all_subject_percent_ready =</span> <span class="fu">str_replace_all</span>(grade_11_all_subject_percent_ready, <span class="st">"0_"</span>, <span class="st">""</span>))</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>nces_all_data <span class="ot">&lt;-</span> nces_all_data <span class="sc">|&gt;</span> </span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), as.numeric))</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>nces_all_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 38
   year total_enrollment male_enrollment female_enrollment
  &lt;dbl&gt;            &lt;dbl&gt;           &lt;dbl&gt;             &lt;dbl&gt;
1  2010            88218           44721             43497
2  2011            77594           39300             38294
3  2012            70326           35686             34640
4  2013            50172           25235             24937
5  2014            49870           25167             24703
6  2015            47959           24110             23849
7  2016            46912           23701             23211
8  2017            45720           23191             22529
9  2018            50875           25937             24938
# ℹ 34 more variables: american_indian_enrollment &lt;dbl&gt;,
#   asian_enrollment &lt;dbl&gt;, african_american_enrollment &lt;dbl&gt;,
#   hispanic_enrollment &lt;dbl&gt;, hawaiian_enrollment &lt;dbl&gt;,
#   white_enrollment &lt;dbl&gt;, two_or_more_races_enrollment &lt;dbl&gt;,
#   kindergarten_enrollment &lt;dbl&gt;, grade_1_enrollment &lt;dbl&gt;,
#   grade_2_enrollment &lt;dbl&gt;, grade_3_enrollment &lt;dbl&gt;,
#   grade_4_enrollment &lt;dbl&gt;, grade_5_enrollment &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
<section id="construction-data" class="level1">
<h1>Construction Data</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(det_parcel<span class="sc">$</span>property_class_desc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "RESIDENTIAL-IMPROVED"     "RESIDENTIAL-VACANT"      
[3] "RESIDENTIAL CONDOMINIUMS"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>housing_built <span class="ot">&lt;-</span> det_parcel <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year_built <span class="sc">&gt;=</span> <span class="dv">2009</span> <span class="sc">&amp;</span> year_built <span class="sc">&lt;</span> <span class="dv">2019</span>) <span class="sc">|&gt;</span> </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year_built) <span class="sc">|&gt;</span> </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">housing_built =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">year =</span> year_built) </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>housing_built</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 2
    year housing_built
   &lt;dbl&gt;         &lt;int&gt;
 1  2009            16
 2  2010            14
 3  2011            88
 4  2012            13
 5  2013            21
 6  2014            78
 7  2015            32
 8  2016             9
 9  2017            18
10  2018            19</code></pre>
</div>
</div>
</section>
<section id="combining-all-data" class="level1">
<h1>Combining All Data</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>acs_nces_data <span class="ot">&lt;-</span> <span class="fu">full_join</span>(acs_all_data, nces_all_data, </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>                           <span class="at">by =</span> <span class="st">'year'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&lt;</span> <span class="dv">2019</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>geographic_area_name, <span class="sc">-</span>geography)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>acs_nces_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 79
   year estimate_educational_att…¹ estimate_educational…² estimate_educational…³
  &lt;dbl&gt;                      &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;
1  2010                     442004                  27245                  72716
2  2011                     455297                  29789                  74513
3  2012                     446530                  29868                  71881
4  2013                     433725                  25803                  67228
5  2014                     430812                  24593                  66409
6  2015                     432410                  26702                  61323
7  2016                     429990                  23142                  62824
8  2017                     436996                  22471                  59526
9  2018                     438146                  25156                  57811
# ℹ abbreviated names:
#   ¹​estimate_educational_attainment_population_25_years_and_over,
#   ²​estimate_educational_attainment_less_than_9th_grade,
#   ³​estimate_educational_attainment_9th_to_12th_grade_no_diploma
# ℹ 75 more variables:
#   estimate_educational_attainment_high_school_graduate_includes_equivalency &lt;dbl&gt;,
#   estimate_educational_attainment_some_college_no_degree &lt;dbl&gt;, …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>all_data <span class="ot">&lt;-</span> <span class="fu">filter</span>(housing_built, year <span class="sc">&gt;</span> <span class="dv">2009</span>) <span class="sc">|&gt;</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(acs_nces_data, housing_built, </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">by =</span> <span class="st">'year'</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>all_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 80
   year housing_built estimate_educational_attainment_p…¹ estimate_educational…²
  &lt;dbl&gt;         &lt;int&gt;                               &lt;dbl&gt;                  &lt;dbl&gt;
1  2010            14                              442004                  27245
2  2011            88                              455297                  29789
3  2012            13                              446530                  29868
4  2013            21                              433725                  25803
5  2014            78                              430812                  24593
6  2015            32                              432410                  26702
7  2016             9                              429990                  23142
8  2017            18                              436996                  22471
9  2018            19                              438146                  25156
# ℹ abbreviated names:
#   ¹​estimate_educational_attainment_population_25_years_and_over,
#   ²​estimate_educational_attainment_less_than_9th_grade
# ℹ 76 more variables:
#   estimate_educational_attainment_9th_to_12th_grade_no_diploma &lt;dbl&gt;,
#   estimate_educational_attainment_high_school_graduate_includes_equivalency &lt;dbl&gt;,
#   estimate_educational_attainment_some_college_no_degree &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
<section id="calculating-gentrification" class="level1">
<h1>Calculating Gentrification</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>all_data_gentrify <span class="ot">&lt;-</span> all_data <span class="sc">|&gt;</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rent_delta =</span> gross_rent_median_dollars <span class="sc">-</span> <span class="fu">lag</span>(gross_rent_median_dollars), </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">value_delta =</span> value_median_dollars <span class="sc">-</span> <span class="fu">lag</span>(value_median_dollars), </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">edu_level_delta =</span> percent_educational_attainment_percent_bachelors_degree_or_higher <span class="sc">-</span> <span class="fu">lag</span>(percent_educational_attainment_percent_bachelors_degree_or_higher), </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">housing_delta =</span> housing_built <span class="sc">-</span> <span class="fu">lag</span>(housing_built)) <span class="sc">|&gt;</span> </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gentrifying =</span> <span class="fu">if_else</span>((rent_delta <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">|</span> value_delta <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">&amp;</span> edu_level_delta <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> housing_delta <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, rent_delta, value_delta, edu_level_delta, housing_delta, gentrifying, <span class="fu">everything</span>()) </span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>all_data_gentrify</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 85
   year rent_delta value_delta edu_level_delta housing_delta gentrifying
  &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;           &lt;dbl&gt;         &lt;int&gt; &lt;lgl&gt;      
1  2010         NA          NA          NA                NA NA         
2  2011         14       -9300           0.200            74 TRUE       
3  2012          1      -11400           0.100           -75 FALSE      
4  2013         -1       -9300           0.700             8 FALSE      
5  2014         -5       -5300           0.800            57 FALSE      
6  2015         -9       -2800           0.400           -46 FALSE      
7  2016          7       -1300           0.700           -23 FALSE      
8  2017         19        1800          -0.300             9 FALSE      
9  2018         25        2900           0.9               1 TRUE       
# ℹ 79 more variables: housing_built &lt;int&gt;,
#   estimate_educational_attainment_population_25_years_and_over &lt;dbl&gt;,
#   estimate_educational_attainment_less_than_9th_grade &lt;dbl&gt;,
#   estimate_educational_attainment_9th_to_12th_grade_no_diploma &lt;dbl&gt;,
#   estimate_educational_attainment_high_school_graduate_includes_equivalency &lt;dbl&gt;,
#   estimate_educational_attainment_some_college_no_degree &lt;dbl&gt;,
#   estimate_educational_attainment_associates_degree &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
<section id="visualizations" class="level1">
<h1>Visualizations</h1>
<section id="verifying-gentrification-part-a---increase-in-housing-construction" class="level2">
<h2 class="anchored" data-anchor-id="verifying-gentrification-part-a---increase-in-housing-construction">Verifying Gentrification Part a - Increase in Housing Construction</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>all_data_gentrify <span class="sc">|&gt;</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">data =</span> <span class="fu">filter</span>(all_data_gentrify, housing_delta <span class="sc">&gt;</span> <span class="dv">0</span>), </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">x =</span> year, </span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> housing_delta), </span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="st">'darkgreen'</span>) <span class="sc">+</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">data =</span> <span class="fu">filter</span>(all_data_gentrify, housing_delta <span class="sc">&lt;=</span> <span class="dv">0</span>), </span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">x =</span> year, </span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> housing_delta), </span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="st">'gray'</span>) <span class="sc">+</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">'Changes in Housing Built in Detroit, Year over Year'</span>,</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">'Determining Gentrification, Part 1 - Does Housing Construction Increase?'</span>, </span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">'Year'</span>, </span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">'Housing Built Since Previous Year'</span>) <span class="sc">+</span> </span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="423A-Group-Project-Code_files/figure-html/viz-housing-delta-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="verifying-gentrification-part-b---increase-in-college-educated-households" class="level2">
<h2 class="anchored" data-anchor-id="verifying-gentrification-part-b---increase-in-college-educated-households">Verifying Gentrification Part b - Increase in College Educated Households</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>all_data_gentrify <span class="sc">|&gt;</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">data =</span> <span class="fu">filter</span>(all_data_gentrify, edu_level_delta <span class="sc">&gt;</span> <span class="dv">0</span>), </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">x =</span> year,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> edu_level_delta),</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">fill =</span> <span class="st">'darkgreen'</span>) <span class="sc">+</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">data =</span> <span class="fu">filter</span>(all_data_gentrify, edu_level_delta <span class="sc">&lt;=</span> <span class="dv">0</span>), </span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">x =</span> year,</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> edu_level_delta),</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">fill =</span> <span class="st">'gray'</span>) <span class="sc">+</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">'Changes in Educational Attainment, Year over Year'</span>, </span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">'Determining Gentrification, Part 2 - Is there an Increase in College-Educated Households?'</span>,</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">'Year'</span>, </span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"% Change in Education Attainment"</span>) <span class="sc">+</span> </span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, </span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"Note: 'Educational Attainment' defined</span><span class="sc">\n</span><span class="st">as having a Bachelor's Degree or Higher"</span>,</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>           <span class="at">x =</span> <span class="dv">2011</span>,</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.2</span>,</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>           <span class="at">hjust =</span> <span class="dv">0</span>,</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>           <span class="at">fontface =</span> <span class="st">'italic'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="423A-Group-Project-Code_files/figure-html/viz-coll-educated-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>all_data_gentrify <span class="sc">|&gt;</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">contains</span>(<span class="st">'percent_educational_attainment'</span>) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">contains</span>(<span class="st">"25_years_and_over"</span>) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">contains</span>(<span class="st">'or_higher'</span>), </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">'education_level'</span>, </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">'percent_at_level'</span>) <span class="sc">|&gt;</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">education_level =</span> <span class="fu">str_replace_all</span>(education_level, <span class="st">"percent_educational_attainment_"</span>, <span class="st">""</span>), </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">education_level =</span> <span class="fu">str_replace_all</span>(education_level, <span class="st">"9th_to_12th_grade_no_diploma"</span>, <span class="st">"Some High School"</span>), </span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">education_level =</span> <span class="fu">str_replace_all</span>(education_level, <span class="st">"associates_degree"</span>, <span class="st">"Associate's Degree"</span>), </span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">education_level =</span> <span class="fu">str_replace_all</span>(education_level, <span class="st">"bachelors_degree"</span>, <span class="st">"Bachelor's Degree"</span>), </span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">education_level =</span> <span class="fu">str_replace_all</span>(education_level, <span class="st">"graduate_or_professional_degree"</span>, <span class="st">"Graduate Degree"</span>), </span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">education_level =</span> <span class="fu">str_replace_all</span>(education_level, <span class="st">"high_school_graduate_includes_equivalency"</span>, <span class="st">"High School Graduate"</span>),</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">education_level =</span> <span class="fu">str_replace_all</span>(education_level, <span class="st">"less_than_9th_grade"</span>, <span class="st">"Less than 9th Grade"</span>), </span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">education_level =</span> <span class="fu">str_replace_all</span>(education_level, <span class="st">"some_college_no_degree"</span>, <span class="st">"Some College"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(education_level <span class="sc">==</span> <span class="st">"Associate's Degree"</span> <span class="sc">|</span> education_level <span class="sc">==</span> <span class="st">"Bachelor's Degree"</span> <span class="sc">|</span> education_level <span class="sc">==</span> <span class="st">"Graduate Degree"</span> <span class="sc">|</span> education_level <span class="sc">==</span> <span class="st">"Some High School"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> year,</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> percent_at_level, </span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> <span class="fu">factor</span>(education_level,</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>                    <span class="at">ordered =</span> <span class="cn">TRUE</span>,</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>                    <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Associate's Degree"</span>, </span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Some High School"</span>,</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Bachelor's Degree"</span>,</span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Graduate Degree"</span>)))) <span class="sc">+</span></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>education_level, <span class="at">ncol =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>) <span class="sc">+</span></span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">'darkgreen'</span>, <span class="st">'grey'</span>, <span class="st">'darkgreen'</span>, <span class="st">'darkgreen'</span>)) <span class="sc">+</span> </span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Population Education-Level Demographic Change, 2010-2018"</span>,</span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">'Less High School Dropouts and More College Graduates'</span>,</span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Year"</span>, </span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"% of Population at Education Level"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="423A-Group-Project-Code_files/figure-html/viz-ed-attain-demographic-columns-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>all_data_gentrify <span class="sc">|&gt;</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">contains</span>(<span class="st">'percent_educational_attainment'</span>) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">contains</span>(<span class="st">"25_years_and_over"</span>) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">contains</span>(<span class="st">'or_higher'</span>), </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">'education_level'</span>, </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">'percent_at_level'</span>) <span class="sc">|&gt;</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">education_level =</span> <span class="fu">str_replace_all</span>(education_level, <span class="st">"percent_educational_attainment_"</span>, <span class="st">""</span>), </span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">education_level =</span> <span class="fu">str_replace_all</span>(education_level, <span class="st">"9th_to_12th_grade_no_diploma"</span>, <span class="st">"Some High School"</span>), </span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">education_level =</span> <span class="fu">str_replace_all</span>(education_level, <span class="st">"associates_degree"</span>, <span class="st">"Associate's Degree"</span>), </span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">education_level =</span> <span class="fu">str_replace_all</span>(education_level, <span class="st">"bachelors_degree"</span>, <span class="st">"Bachelor's Degree"</span>), </span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">education_level =</span> <span class="fu">str_replace_all</span>(education_level, <span class="st">"graduate_or_professional_degree"</span>, <span class="st">"Graduate Degree"</span>), </span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">education_level =</span> <span class="fu">str_replace_all</span>(education_level, <span class="st">"high_school_graduate_includes_equivalency"</span>, <span class="st">"High School Graduate"</span>),</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">education_level =</span> <span class="fu">str_replace_all</span>(education_level, <span class="st">"less_than_9th_grade"</span>, <span class="st">"Less than 9th Grade"</span>), </span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">education_level =</span> <span class="fu">str_replace_all</span>(education_level, <span class="st">"some_college_no_degree"</span>, <span class="st">"Some College"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(education_level <span class="sc">==</span> <span class="st">"Associate's Degree"</span> <span class="sc">|</span> education_level <span class="sc">==</span> <span class="st">"Bachelor's Degree"</span> <span class="sc">|</span> education_level <span class="sc">==</span> <span class="st">"Graduate Degree"</span> <span class="sc">|</span> education_level <span class="sc">==</span> <span class="st">"Some High School"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="fu">aes</span>(<span class="at">x =</span> year,</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> percent_at_level, </span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> <span class="fu">factor</span>(education_level,</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>                    <span class="at">ordered =</span> <span class="cn">TRUE</span>,</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>                    <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Graduate Degree"</span>,</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Bachelor's Degree"</span>,</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Associate's Degree"</span>,</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Some High School"</span></span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>                               )))) <span class="sc">+</span></span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="st">"Education Level"</span>, <span class="at">values =</span> <span class="fu">rev</span>(<span class="fu">carto.pal</span>(<span class="st">'green.pal'</span>, <span class="dv">4</span>))) <span class="sc">+</span></span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_fill_brewer(palette = 'Greens') + </span></span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Population Education-Level Demographic Change, 2010-2018"</span>,</span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">'Less High School Droups and More College Graduates'</span>,</span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Year"</span>, </span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"% of Population at Education Level"</span>, </span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">'Education Level'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="423A-Group-Project-Code_files/figure-html/viz-ed-attain-demographic-area-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="verifying-gentrification-part-c---increase-in-housing-costs" class="level2">
<h2 class="anchored" data-anchor-id="verifying-gentrification-part-c---increase-in-housing-costs">Verifying Gentrification Part c - Increase in Housing Costs</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> all_data_gentrify <span class="sc">|&gt;</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">data =</span> <span class="fu">filter</span>(all_data_gentrify, rent_delta <span class="sc">&gt;</span> <span class="dv">0</span>), </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">x =</span> year,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> rent_delta),</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">fill =</span> <span class="st">'darkgreen'</span>) <span class="sc">+</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">data =</span> <span class="fu">filter</span>(all_data_gentrify, rent_delta <span class="sc">&lt;=</span> <span class="dv">0</span>), </span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">x =</span> year,</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> rent_delta),</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">fill =</span> <span class="st">'gray'</span>) <span class="sc">+</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">'Year'</span>, </span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Change in Median Rent"</span>) <span class="sc">+</span> </span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> all_data_gentrify <span class="sc">|&gt;</span> </span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">data =</span> <span class="fu">filter</span>(all_data_gentrify, value_delta <span class="sc">&gt;</span> <span class="dv">0</span>), </span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">x =</span> year,</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> value_delta),</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">fill =</span> <span class="st">'darkgreen'</span>) <span class="sc">+</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">data =</span> <span class="fu">filter</span>(all_data_gentrify, value_delta <span class="sc">&lt;=</span> <span class="dv">0</span>), </span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">x =</span> year,</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> value_delta),</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">fill =</span> <span class="st">'gray'</span>) <span class="sc">+</span></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">'Year'</span>, </span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Change in Median Housing Value"</span>) <span class="sc">+</span> </span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> p2 <span class="sc">+</span> <span class="fu">plot_annotation</span>(<span class="at">title =</span> <span class="st">'Changes in Housing Costs, Year over Year'</span>, </span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>                          <span class="at">subtitle =</span> <span class="st">'Determining Gentrification, Part 3 - Is there an Increase in the Cost of Housing?'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="423A-Group-Project-Code_files/figure-html/viz-housing-cost-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="combing-all-4-gentrification-metrics" class="level2">
<h2 class="anchored" data-anchor-id="combing-all-4-gentrification-metrics">Combing All 4 Gentrification Metrics</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>all_data_gentrify <span class="sc">|&gt;</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;</span> <span class="dv">2010</span>) <span class="sc">|&gt;</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">'delta'</span>)) <span class="sc">|&gt;</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggcorr</span>(<span class="at">method =</span> <span class="fu">c</span>(<span class="st">"everything"</span>, <span class="st">"pearson"</span>), </span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">high =</span> <span class="st">"darkgreen"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="423A-Group-Project-Code_files/figure-html/correlation-of-deltas-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>all_data_gentrify <span class="sc">|&gt;</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shape_category =</span> <span class="fu">ifelse</span>(housing_delta <span class="sc">&gt;</span> <span class="dv">0</span>, </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"More Houses Built"</span>, </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"Less Houses Built"</span>),</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">size_category =</span> <span class="fu">ifelse</span>(edu_level_delta <span class="sc">&gt;</span> <span class="dv">0</span>, </span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Increase in College Educated Individuals"</span>, </span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Decrease in College Educated Individuals"</span>),</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">gentrify_category =</span> <span class="fu">ifelse</span>((rent_delta <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">|</span> value_delta <span class="sc">&gt;</span> <span class="dv">0</span>) </span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>                                    <span class="sc">&amp;</span> edu_level_delta <span class="sc">&gt;</span> <span class="dv">0</span> </span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>                                    <span class="sc">&amp;</span> housing_delta <span class="sc">&gt;</span> <span class="dv">0</span>, </span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"Gentrifying"</span>, <span class="st">"Not Gentrifying"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> rent_delta, </span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> value_delta,</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>                 <span class="at">color =</span> gentrify_category, </span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>                 <span class="at">size =</span> size_category,</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>                 <span class="at">shape =</span> shape_category)) <span class="sc">+</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"Gentrification Criteria"</span>, </span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Not Gentrifying"</span> <span class="ot">=</span> <span class="st">"gray"</span>,</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Gentrifying"</span> <span class="ot">=</span> <span class="st">"darkgreen"</span>)) <span class="sc">+</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_manual</span>(<span class="at">name =</span> <span class="st">"Educational Attainment Changes"</span>, </span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>                    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Increase in College Educated Individuals"</span> <span class="ot">=</span> <span class="dv">5</span>, </span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Decrease in College Educated Individuals"</span> <span class="ot">=</span> <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">name =</span> <span class="st">"Housing Changes"</span>,</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Less Houses Built"</span> <span class="ot">=</span> <span class="dv">15</span>, <span class="st">"More Houses Built"</span> <span class="ot">=</span> <span class="dv">17</span>)) <span class="sc">+</span></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="dv">0</span>), <span class="at">linetype=</span><span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span> </span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="dv">0</span>), <span class="at">linetype=</span><span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="fu">aes</span>(<span class="at">x =</span> rent_delta, </span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> value_delta,</span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>                 <span class="at">label =</span> year)) <span class="sc">+</span> </span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"When is Detroit Gentrifying?"</span>,</span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Only 2011 and 2018 fit all three criteria"</span>,</span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">'Change in Median Rent'</span>, </span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">'Change in Median Value'</span>, </span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">'Change in Housing Built'</span>, </span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a>       <span class="at">size =</span> <span class="st">'Change in Educational Attainment'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 rows containing missing values (`geom_point()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 rows containing missing values (`geom_text_repel()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="423A-Group-Project-Code_files/figure-html/viz-all-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="relationships-with-educational-outcomes" class="level2">
<h2 class="anchored" data-anchor-id="relationships-with-educational-outcomes">Relationships with Educational Outcomes</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Removing 2010 from all_data_gentrifying since we don't have deltas for those years and would need to fitler it every time otherwise</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>all_data_gentrify_final <span class="ot">&lt;-</span>  all_data_gentrify <span class="sc">|&gt;</span> </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">!=</span> <span class="dv">2010</span>)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>all_data_gentrify_final</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 85
   year rent_delta value_delta edu_level_delta housing_delta gentrifying
  &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;           &lt;dbl&gt;         &lt;int&gt; &lt;lgl&gt;      
1  2011         14       -9300           0.200            74 TRUE       
2  2012          1      -11400           0.100           -75 FALSE      
3  2013         -1       -9300           0.700             8 FALSE      
4  2014         -5       -5300           0.800            57 FALSE      
5  2015         -9       -2800           0.400           -46 FALSE      
6  2016          7       -1300           0.700           -23 FALSE      
7  2017         19        1800          -0.300             9 FALSE      
8  2018         25        2900           0.9               1 TRUE       
# ℹ 79 more variables: housing_built &lt;int&gt;,
#   estimate_educational_attainment_population_25_years_and_over &lt;dbl&gt;,
#   estimate_educational_attainment_less_than_9th_grade &lt;dbl&gt;,
#   estimate_educational_attainment_9th_to_12th_grade_no_diploma &lt;dbl&gt;,
#   estimate_educational_attainment_high_school_graduate_includes_equivalency &lt;dbl&gt;,
#   estimate_educational_attainment_some_college_no_degree &lt;dbl&gt;,
#   estimate_educational_attainment_associates_degree &lt;dbl&gt;, …</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Create the boxplot</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> all_data_gentrify_final <span class="sc">|&gt;</span> </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gentrifying, </span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">y =</span> total_enrollment, </span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">fill =</span> <span class="fu">factor</span>(all_data_gentrify_final<span class="sc">$</span>gentrifying, </span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>                             <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"FALSE"</span>, </span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"TRUE"</span>)))) <span class="sc">+</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="st">"Gentrifying"</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"darkgreen"</span>)) <span class="sc">+</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>) <span class="sc">+</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">'Gentrifying Years Have Larger Enrollment'</span>, </span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">'Gentrifying Years'</span>, </span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">'Total Enrollment'</span>)</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a><span class="co">#Create the line plot</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> all_data_gentrify_final <span class="sc">|&gt;</span> </span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, </span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>                <span class="at">y =</span> total_enrollment, </span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>                <span class="at">group =</span> <span class="dv">1</span>), </span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">'grey'</span>, </span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> <span class="fu">filter</span>(all_data_gentrify_final, <span class="fu">as.character</span>(gentrifying) <span class="sc">==</span> <span class="st">"TRUE"</span>), </span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> year, </span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> total_enrollment), </span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">'darkgreen'</span>,</span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>) <span class="sc">+</span></span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">'Year'</span>, </span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">'Total Enrollment'</span>)</span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-34"><a href="#cb34-34" aria-hidden="true" tabindex="-1"></a><span class="co">#Combine the two plots</span></span>
<span id="cb34-35"><a href="#cb34-35" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, <span class="at">ncol =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Use of `all_data_gentrify_final$gentrifying` is discouraged.
ℹ Use `gentrifying` instead.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="423A-Group-Project-Code_files/figure-html/viz-enrollment-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>all_data_gentrify_final <span class="sc">|&gt;</span>  </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">contains</span>(<span class="st">'enrollment'</span>) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">starts_with</span>(<span class="st">'grade'</span>) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">starts_with</span>(<span class="st">'kinder'</span>) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">starts_with</span>(<span class="st">'total'</span>), </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">'enrollment_group'</span>, </span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">'enrollment_number'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct_total_enrollment =</span> <span class="dv">100</span><span class="sc">*</span>enrollment_number<span class="sc">/</span>total_enrollment, </span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">enrollment_group =</span> <span class="fu">str_replace_all</span>(enrollment_group, <span class="st">"_enrollment"</span>, <span class="st">""</span>), </span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">enrollment_group =</span> <span class="fu">str_replace_all</span>(enrollment_group, <span class="st">"_"</span>, <span class="st">" "</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(enrollment_group, enrollment_number, total_enrollment, pct_total_enrollment, <span class="fu">everything</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> enrollment_group, </span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> pct_total_enrollment)) <span class="sc">+</span> </span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> gentrifying)) <span class="sc">+</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="st">"Gentrifying"</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">'grey'</span>, <span class="st">'darkgreen'</span>)) <span class="sc">+</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Who Shows Up for Class?"</span>,</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Gentrification's Relationship to Enrollment in Detroit (by Groups)"</span>,</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Group"</span>, </span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percent of Total Enrollment"</span>) <span class="sc">+</span> </span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'bottom'</span>) <span class="sc">+</span></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="423A-Group-Project-Code_files/figure-html/viz-enrollment-by-type-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a new data frame with 'pct_ready' column</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>all_data_gentrify_pct_ready_pivot <span class="ot">&lt;-</span> all_data_gentrify_final <span class="sc">|&gt;</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">contains</span>(<span class="st">'ready'</span>), </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">names_to =</span> <span class="st">'subject_readiness'</span>, </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">values_to =</span> <span class="st">'pct_ready'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">subject_readiness =</span> <span class="fu">str_replace_all</span>(subject_readiness, <span class="st">"grade_11_"</span>, <span class="st">""</span>),</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">subject_readiness =</span> <span class="fu">str_replace_all</span>(subject_readiness, <span class="st">"all_subject_percent_ready"</span>, <span class="st">"Percent Ready on All Subjects"</span>),</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">subject_readiness =</span> <span class="fu">str_replace_all</span>(subject_readiness, <span class="st">"english_percent_ready"</span>, <span class="st">"Percent Ready on English"</span>),</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">subject_readiness =</span> <span class="fu">str_replace_all</span>(subject_readiness, <span class="st">"math_percent_ready"</span>, <span class="st">"Percent Ready on Math"</span>))</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>all_data_gentrify_pct_ready_pivot <span class="sc">|&gt;</span> </span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gentrifying, </span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>                   <span class="at">y =</span> pct_ready, </span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>                   <span class="at">fill =</span> gentrifying), </span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>               <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"darkgreen"</span>)) <span class="sc">+</span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>subject_readiness) <span class="sc">+</span> </span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gentrification's Relationship To Academic Achievement"</span>,</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"11th Grade Student's Median Scores in English and Math Drop in Gentrifying Years"</span>,</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Gentrifying Year"</span>, </span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percent of Students 'Ready' for College Level Work"</span>) <span class="sc">+</span> </span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="423A-Group-Project-Code_files/figure-html/viz-readiness-agg-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>all_data_gentrify_final <span class="sc">|&gt;</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">contains</span>(<span class="st">"graduation"</span>), </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">'grad_rate_timeframe'</span>, </span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">'grad_rate'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grad_rate_timeframe =</span> <span class="fu">str_replace_all</span>(grad_rate_timeframe, </span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"graduation_rate_4_year"</span>, </span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"4 Year Graduation Rate"</span>),</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">grad_rate_timeframe =</span> <span class="fu">str_replace_all</span>(grad_rate_timeframe,</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"graduation_rate_5_year"</span>, </span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"5 Year Graduation Rate"</span>),</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">grad_rate_timeframe =</span> <span class="fu">str_replace_all</span>(grad_rate_timeframe,</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"graduation_rate_6_year"</span>, </span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"6 Year Graduation Rate"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> grad_rate_timeframe, </span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> grad_rate)) <span class="sc">+</span> </span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> gentrifying)) <span class="sc">+</span></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="st">"Gentrifying"</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"darkgreen"</span>)) <span class="sc">+</span> </span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gentrification's Relationship to Graduation Rate"</span>, </span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">'Students Take Longer to Graduate in Gentriying Years'</span>, </span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">'Graduation Rate Time Frame'</span>, </span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">'Graduation Rate'</span>) <span class="sc">+</span> </span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="423A-Group-Project-Code_files/figure-html/viz-gradrate-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>all_data_gentrify_grad_rate_pivot <span class="ot">&lt;-</span> all_data_gentrify_final <span class="sc">|&gt;</span> </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">contains</span>(<span class="st">"graduation"</span>), </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">'grad_rate_timeframe'</span>, </span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">'grad_rate'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grad_rate_timeframe =</span> <span class="fu">str_replace_all</span>(grad_rate_timeframe, </span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"graduation_rate_4_year"</span>, </span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"4 Year Graduation Rate"</span>),</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">grad_rate_timeframe =</span> <span class="fu">str_replace_all</span>(grad_rate_timeframe,</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"graduation_rate_5_year"</span>, </span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"5 Year Graduation Rate"</span>),</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">grad_rate_timeframe =</span> <span class="fu">str_replace_all</span>(grad_rate_timeframe,</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"graduation_rate_6_year"</span>, </span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"6 Year Graduation Rate"</span>)) </span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>all_data_gentrify_grad_rate_pivot <span class="sc">|&gt;</span> </span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, </span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>                <span class="at">y =</span> grad_rate), </span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">'lightgreen'</span>, </span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> <span class="fu">filter</span>(all_data_gentrify_grad_rate_pivot, <span class="fu">as.character</span>(gentrifying) <span class="sc">==</span> <span class="st">"TRUE"</span>),</span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> year, </span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> grad_rate), </span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">'darkgreen'</span>,</span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span></span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>grad_rate_timeframe) <span class="sc">+</span></span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gentrification's Relationship to Graduation Rate"</span>, </span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a>       <span class="co">#subtitle = 'Students Take Longer to Graduate in Gentriying Years', </span></span>
<span id="cb39-28"><a href="#cb39-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">'Year'</span>, </span>
<span id="cb39-29"><a href="#cb39-29" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">'Graduation Rate'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="423A-Group-Project-Code_files/figure-html/viz-grad-rate-by-time-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>all_data_gentrify_drop_rate_pivot <span class="ot">&lt;-</span> all_data_gentrify_final <span class="sc">|&gt;</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">contains</span>(<span class="st">"dropout"</span>), </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">'dropout_rate_timeframe'</span>, </span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">'dropout_rate'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dropout_rate_timeframe =</span> <span class="fu">str_replace_all</span>(dropout_rate_timeframe, </span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"dropout_rate_4_year"</span>, </span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"4 Year Droupout Rate"</span>),</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">dropout_rate_timeframe =</span> <span class="fu">str_replace_all</span>(dropout_rate_timeframe,</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"dropout_rate_5_year"</span>, </span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"5 Year Droupout Rate"</span>),</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">dropout_rate_timeframe =</span> <span class="fu">str_replace_all</span>(dropout_rate_timeframe,</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"dropout_rate_6_year"</span>, </span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"6 Year Droupout Rate"</span>)) </span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>all_data_gentrify_drop_rate_pivot <span class="sc">|&gt;</span> </span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, </span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>                <span class="at">y =</span> dropout_rate), </span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">'lightgreen'</span>, </span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> <span class="fu">filter</span>(all_data_gentrify_drop_rate_pivot, <span class="fu">as.character</span>(gentrifying) <span class="sc">==</span> <span class="st">"TRUE"</span>),</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> year, </span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> dropout_rate), </span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">'darkgreen'</span>,</span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span></span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>dropout_rate_timeframe) <span class="sc">+</span></span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gentrification's Relationship to Dropout Rate"</span>, </span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a>       <span class="co">#subtitle = 'Students Take Longer to Graduate in Gentriying Years', </span></span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">'Year'</span>, </span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">'Dropout Rate'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="423A-Group-Project-Code_files/figure-html/viz-drop-rate-by-time-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>all_data_gentrify_final <span class="sc">|&gt;</span> </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">contains</span>(<span class="st">"dropout"</span>), </span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">'dropout_rate_timeframe'</span>, </span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">'dropout_rate'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dropout_rate_timeframe =</span> <span class="fu">str_replace_all</span>(dropout_rate_timeframe, </span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"dropout_rate_4_year"</span>, </span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"4 Year Dropout Rate"</span>),</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">dropout_rate_timeframe =</span> <span class="fu">str_replace_all</span>(dropout_rate_timeframe,</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"dropout_rate_5_year"</span>, </span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"5 Year Dropout Rate"</span>),</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">dropout_rate_timeframe =</span> <span class="fu">str_replace_all</span>(dropout_rate_timeframe,</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"dropout_rate_6_year"</span>, </span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">"6 Year Dropout Rate"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> dropout_rate_timeframe, </span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> dropout_rate)) <span class="sc">+</span> </span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> gentrifying)) <span class="sc">+</span></span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="st">"Gentrifying"</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"darkgreen"</span>)) <span class="sc">+</span> </span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gentrification's Relationship to Dropout Rate"</span>, </span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">'Rates of Dropout Are Consistent or Lower in Gentirfying Years'</span>, </span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">'Dropout Rate Time Frame'</span>, </span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">'Dropout Rate'</span>) <span class="sc">+</span> </span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="423A-Group-Project-Code_files/figure-html/viz-dropoutrate-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> all_data_gentrify_pct_ready_pivot) <span class="sc">+</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">y =</span> pct_ready), </span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">'lightgreen'</span>, </span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> <span class="fu">filter</span>(all_data_gentrify_pct_ready_pivot, <span class="fu">as.character</span>(gentrifying) <span class="sc">==</span> <span class="st">"TRUE"</span>),</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> year, </span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> pct_ready), </span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">'darkgreen'</span>,</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>subject_readiness) <span class="sc">+</span> </span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Investigating 'All Subjects'"</span>,</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"In gentrifying years, 11th grade students score lower on standardized tests</span><span class="sc">\n</span><span class="st">than in years around the gentirfying years"</span>,</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Year"</span>, </span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percent of Students 'Ready' for College Level Work"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="423A-Group-Project-Code_files/figure-html/viz-readiness-over-time-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>